<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.87.0" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="/cirocket/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/cirocket/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/cirocket/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/cirocket/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/cirocket/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/cirocket/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/cirocket/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/cirocket/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/cirocket/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/cirocket/favicons/android-192x192.png" sizes="192x192">

<title>Task | cirocket</title>


  
  <meta name="description" content="Task varieties
Tasks are run by stages.   There are four varieties of task.

Type tasks
Collection tasks

Group
Try
Concurrent



The Type tasks use a …">
<meta property="og:title" content="Task" />
<meta property="og:description" content="Documentation explaining how cirocket task definitions work." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nehemming.github.io/cirocket/docs/reference/missions/task/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="cirocket" />

<meta itemprop="name" content="Task">
<meta itemprop="description" content="Documentation explaining how cirocket task definitions work.">

<meta itemprop="wordCount" content="1436">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Task"/>
<meta name="twitter:description" content="Documentation explaining how cirocket task definitions work."/>




<link rel="preload" href="/cirocket/scss/main.min.db9208f492849d2f6d4c62d919b1ce69343ffee443160ad2c4ebb1a5dabb2d62.css" as="style">
<link href="/cirocket/scss/main.min.db9208f492849d2f6d4c62d919b1ce69343ffee443160ad2c4ebb1a5dabb2d62.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>







<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-206892871-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/cirocket/">
		<span class="navbar-logo"><svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:svg="http://www.w3.org/2000/svg" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:ns1="http://sozi.baierouge.fr" id="svg6159" height="150" width="150" viewBox="0 0 300 300"><defs id="defs6161"><linearGradient id="linearGradient6251" x1="98.459" gradientUnits="userSpaceOnUse" y1="1305.9" gradientTransform="matrix(.61819 .16564 -.16564 .61819 312.88 -265.65)" x2="156.02" y2="1305.9"><stop id="stop3999" stop-color="#232323" offset="0"/><stop id="stop4005" stop-color="#686868" offset=".61842"/><stop id="stop4001" stop-color="#595959" offset="1"/></linearGradient><radialGradient id="radialGradient6248" gradientUnits="userSpaceOnUse" cy="1160.8" cx="-19.571" gradientTransform="matrix(1.4304 .38327 -.42276 1.5778 647.2 -1311.7)" r="14.608"><stop id="stop4381" stop-color="#8c8c8c" offset="0"/><stop id="stop4383" stop-color="gray" offset="1"/></radialGradient><linearGradient id="linearGradient6245" x1="-11.382" gradientUnits="userSpaceOnUse" y1="1071.1" gradientTransform="matrix(1.4304 .38327 -.38327 1.4304 579.39 -1058.7)" x2="50.852" y2="1071.1"><stop id="stop3907" stop-color="#707070" offset="0"/><stop id="stop3913" stop-color="#fff" offset=".5"/><stop id="stop3909" stop-color="#e9e9e9" offset="1"/></linearGradient><radialGradient id="radialGradient6242" gradientUnits="userSpaceOnUse" cy="1162" cx="51.507" gradientTransform="matrix(1.3992 .37491 -.49471 1.8463 732.01 -1621.8)" r="14.608"><stop id="stop3979" stop-color="#fff" offset="0"/><stop id="stop3981" stop-color="#d7d7d7" offset="1"/></radialGradient><linearGradient id="linearGradient6220" x1="-150.56" gradientUnits="userSpaceOnUse" y1="977.9" gradientTransform="matrix(.89696 0 0 .89696 -14.128 100.77)" x2="-123.65" y2="977.9"><stop id="stop3961" stop-color="#b4b4b4" offset="0"/><stop id="stop3963" stop-color="#f2f2f2" offset="1"/></linearGradient><linearGradient id="linearGradient6238" x1="-9.8297" xlink:href="#linearGradient3893" gradientUnits="userSpaceOnUse" y1="1102.3" gradientTransform="matrix(1.4304 .38327 -.38327 1.4304 599.46 -1133.6)" x2="49.327" y2="1102.3"/><linearGradient id="linearGradient3893"><stop id="stop3895" stop-color="#650a0a" offset="0"/><stop id="stop3915" stop-color="#eb0000" offset=".5"/><stop id="stop3897" stop-color="#af3333" offset="1"/></linearGradient><radialGradient id="radialGradient6235" gradientUnits="userSpaceOnUse" cy="411.95" cx="228.78" gradientTransform="matrix(.58565 0 0 .56780 92.353 177.67)" r="22.506"><stop id="stop3876" stop-color="#ec0000" offset="0"/><stop id="stop3880" stop-color="#bf0000" offset="1"/></radialGradient><linearGradient id="linearGradient6232" x1="-7.7759" xlink:href="#linearGradient3893" gradientUnits="userSpaceOnUse" y1="1108.5" gradientTransform="matrix(1.4304 .38327 -.38327 1.4304 579.39 -1058.7)" x2="46.598" y2="1108.5"/><radialGradient id="radialGradient6157" gradientUnits="userSpaceOnUse" cy="973.85" cx="-141.15" gradientTransform="matrix(1.1212 0 0 1.1212 16.617 -118.52)" r="13.454"><stop id="stop3919" stop-color="#fff" offset="0"/><stop id="stop3925" offset=".25"/><stop id="stop3921" offset="1"/></radialGradient><filter id="filter6946" width="1.5" y="-.25" x="-.25" height="1.5" color-interpolation-filters="sRGB"><feGaussianBlur id="feGaussianBlur6948" in="SourceAlpha" stdDeviation="15" result="blur"/><feColorMatrix id="feColorMatrix6950" type="matrix" values="-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 0.5 0" result="bluralpha"/><feOffset id="feOffset6952" dy="0" in="bluralpha" dx="0" result="offsetBlur"/><feMerge id="feMerge6954"><feMergeNode id="feMergeNode6956" in="offsetBlur"/><feMergeNode id="feMergeNode6958" in="SourceGraphic"/></feMerge></filter><radialGradient id="radialGradient6979" gradientUnits="userSpaceOnUse" cy="223.61" cx="384.79" r="154.32"><stop id="stop4103" stop-color="#212652" offset="0"/><stop id="stop4105" stop-color="#141732" offset="1"/></radialGradient></defs><g id="layer1" transform="translate(-222.5 -382.53)"><path id="path6962" transform="matrix(.97201 0 0 .97201 -27.142 272.48)" fill="url(#radialGradient6979)" d="m565.47 267.54c0 85.228-69.091 154.32-154.32 154.32-85.228.0-154.32-69.091-154.32-154.32.0-85.228 69.091-154.32 154.32-154.32 85.228.0 154.32 69.091 154.32 154.32z"/><g id="g6337" filter="url(#filter6946)" transform="matrix(.91309 0 0 .91309 193.69 84.829)"><path id="path4038" fill="url(#linearGradient6251)" d="m157.16 558.97c-.57015 1.8921 33.034 11.211 35.581 9.5339-13.608-7.722-21.548-11.845-35.581-9.5339z"/><path id="path4040" fill="url(#radialGradient6248)" d="m150.79 533.31c-36.118 3.8551-29.095 36.145-34.43 36.145-3.8976-8e-5-10.901-17.989-9.3315-35.534 1.6272-18.186 10.975-47.994 42.66-46.309z"/><path id="path4042" d="m219.28 398.3c-20.353 7.2362-44.928 18.68-62.077 56.811-12.706 28.252-9.4565 85.536-.0409 103.86.0.0 11.158.88169 18.317 2.8002 7.1598 1.9185 17.263 6.7337 17.263 6.7337 17.314-11.157 48.726-59.154 51.848-89.974 4.2139-41.597-11.303-63.783-25.31-80.226z" fill="url(#linearGradient6245)"/><path id="path4044" fill="url(#radialGradient6242)" d="m211.07 549.46c29.351 21.397 7.1245 45.85 11.744 48.517 3.3755 1.9487 18.435-10.128 25.848-26.108 7.6836-16.563 14.493-47.051-13.79-61.435z"/><path id="path4046" transform="matrix(1.5947 .42730 -.42730 1.5947 834.86 -1024.5)" fill="url(#linearGradient6220)" d="m-123.65 977.9c0 7.4306-6.0237 13.454-13.454 13.454-7.4306.0-13.454-6.0237-13.454-13.454.0-7.4306 6.0237-13.454 13.454-13.454 7.4306.0 13.454 6.0237 13.454 13.454z"/><path id="path4048" fill="url(#linearGradient6238)" d="m207.54 442.02c-.21424 1.111-.57503 2.3018-.93423 3.4866.28131-1.2056.56428-2.4173.93423-3.4866z-21.898-5.8675-35.863-2.663-42.584-1.6368-1.2549 2.1917-2.746 4.7182-4.3854 7.784 12.296-2.665 30.576-3.0637 45.101.82597 16.243 4.3523 30.2 13.391 39.516 21.847.11314-3.4748.0851-6.4083.0942-8.9338-5.3068-4.2488-15.844-14.019-37.742-19.886z"/><path id="path4050" fill="url(#radialGradient6235)" d="m219.28 398.3c-8.7217 2.7761-20.781 8.4889-27.763 13.497 5.7939.14338 15.518 2.0492 23.056 4.0698 7.5231 2.0165 16.868 5.2185 21.957 7.9913-3.542-7.8282-11.085-18.793-17.25-25.558z"/><path id="path4052" fill="url(#linearGradient6232)" d="m190.62 505.22c-15.761-4.2231-32.339-5.007-41.763-1.6048-.39425 10.879.67873 39.788 8.2999 55.354 5.6333.21855 14.18 1.6916 18.317 2.8002 4.1372 1.1086 12.276 4.1063 17.263 6.7337 14.341-8.4823 28.979-35.106 34.141-44.966-6.5896-7.1763-20.499-14.094-36.259-18.317z"/><path id="path4054" transform="matrix(1.2758 .34184 -.34184 1.2758 707.56 -724.37)" fill="url(#radialGradient6157)" d="m-123.65 977.9c0 7.4306-6.0237 13.454-13.454 13.454-7.4306.0-13.454-6.0237-13.454-13.454.0-7.4306 6.0237-13.454 13.454-13.454 7.4306.0 13.454 6.0237 13.454 13.454z"/></g></g></svg></span><span class="text-uppercase font-weight-bold">cirocket</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/cirocket/docs/" ><i class='fas fa-book'></i><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/nehemming/cirocket" target="_blank" ><i class='fab fa-github'></i><span>GitHub</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
  <script>
    $(function() {
    $("#td-section-nav a").removeClass("active");
    $("#td-section-nav #m-cirocketdocsreferencemissionstask").addClass("active"); 
    $("#td-section-nav #m-cirocketdocsreferencemissionstask-li span").addClass("td-sidebar-nav-active-item"); 
    $("#td-section-nav #m-cirocketdocsreferencemissionstask").parents("li").addClass("active-path"); 
    $("#td-section-nav li.active-path").addClass("show"); 
    $("#td-section-nav li.active-path").children("input").prop('checked', true);
    $("#td-section-nav #m-cirocketdocsreferencemissionstask-li").siblings("li").addClass("show");  
    $("#td-section-nav #m-cirocketdocsreferencemissionstask-li").children("ul").children("li").addClass("show");  
    $("#td-sidebar-menu").toggleClass("d-none"); 
    });
  </script>
  
<div id="td-sidebar-menu" class="td-sidebar__inner d-none">
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-cirocketdocs-li">
  <a href="/cirocket/docs/" title="Welcome to cirocket" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-cirocketdocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-cirocketdocsstart-li">
  <input type="checkbox" id="m-cirocketdocsstart-check"/>
  <label for="m-cirocketdocsstart-check"><a href="/cirocket/docs/start/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-cirocketdocsstart"><span class="">Get Started</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsstartinstall-li">
  <input type="checkbox" id="m-cirocketdocsstartinstall-check"/>
  <label for="m-cirocketdocsstartinstall-check"><a href="/cirocket/docs/start/install/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsstartinstall"><span class="">Installation</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsconcepts-li">
  <input type="checkbox" id="m-cirocketdocsconcepts-check"/>
  <label for="m-cirocketdocsconcepts-check"><a href="/cirocket/docs/concepts/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-cirocketdocsconcepts"><span class="">Concepts</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocscli-li">
  <input type="checkbox" id="m-cirocketdocscli-check"/>
  <label for="m-cirocketdocscli-check"><a href="/cirocket/docs/cli/" title="Command line interface" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-cirocketdocscli"><span class="">CLI</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-cirocketdocsreference-li">
  <input type="checkbox" id="m-cirocketdocsreference-check"/>
  <label for="m-cirocketdocsreference-check"><a href="/cirocket/docs/reference/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-cirocketdocsreference"><span class="">Reference</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferenceblueprint-li">
  <input type="checkbox" id="m-cirocketdocsreferenceblueprint-check"/>
  <label for="m-cirocketdocsreferenceblueprint-check"><a href="/cirocket/docs/reference/blueprint/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferenceblueprint"><span class="">Blueprints</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-cirocketdocsreferencemissions-li">
  <input type="checkbox" id="m-cirocketdocsreferencemissions-check"/>
  <label for="m-cirocketdocsreferencemissions-check"><a href="/cirocket/docs/reference/missions/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-cirocketdocsreferencemissions"><span class="">Missions</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencemissionsinclude-li">
  <input type="checkbox" id="m-cirocketdocsreferencemissionsinclude-check"/>
  <label for="m-cirocketdocsreferencemissionsinclude-check"><a href="/cirocket/docs/reference/missions/include/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencemissionsinclude"><span class="">Include</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencemissionsmission-li">
  <input type="checkbox" id="m-cirocketdocsreferencemissionsmission-check"/>
  <label for="m-cirocketdocsreferencemissionsmission-check"><a href="/cirocket/docs/reference/missions/mission/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencemissionsmission"><span class="">Mission</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencemissionsparam-li">
  <input type="checkbox" id="m-cirocketdocsreferencemissionsparam-check"/>
  <label for="m-cirocketdocsreferencemissionsparam-check"><a href="/cirocket/docs/reference/missions/param/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencemissionsparam"><span class="">Param</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencemissionsstage-li">
  <input type="checkbox" id="m-cirocketdocsreferencemissionsstage-check"/>
  <label for="m-cirocketdocsreferencemissionsstage-check"><a href="/cirocket/docs/reference/missions/stage/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencemissionsstage"><span class="">Stage</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencemissionstask-li">
  <input type="checkbox" id="m-cirocketdocsreferencemissionstask-check"/>
  <label for="m-cirocketdocsreferencemissionstask-check"><a href="/cirocket/docs/reference/missions/task/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencemissionstask"><span class="">Task</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-cirocketdocsreferencetasktypes-li">
  <input type="checkbox" id="m-cirocketdocsreferencetasktypes-check"/>
  <label for="m-cirocketdocsreferencetasktypes-check"><a href="/cirocket/docs/reference/tasktypes/" title="Task Types" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-cirocketdocsreferencetasktypes"><span class="">Task types</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencetasktypesrun-li">
  <input type="checkbox" id="m-cirocketdocsreferencetasktypesrun-check"/>
  <label for="m-cirocketdocsreferencetasktypesrun-check"><a href="/cirocket/docs/reference/tasktypes/run/" title="Run Task Type" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencetasktypesrun"><span class="">Run</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-cirocketdocsreferencetemplates-li">
  <input type="checkbox" id="m-cirocketdocsreferencetemplates-check"/>
  <label for="m-cirocketdocsreferencetemplates-check"><a href="/cirocket/docs/reference/templates/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-cirocketdocsreferencetemplates"><span class="">Templates</span></a></label>
  
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>


          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
  
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
  
  </div>


            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#task-varieties">Task varieties</a></li>
        <li><a href="#variable-types">Variable types</a></li>
      </ul>
    </li>
    <li><a href="#common-task-properties">Common Task Properties</a>
      <ul>
        <li><a href="#basicenv">basicEnv</a></li>
        <li><a href="#description">description</a></li>
        <li><a href="#env">env</a></li>
        <li><a href="#exports">exports</a></li>
        <li><a href="#filter">filter</a></li>
        <li><a href="#if">if</a></li>
        <li><a href="#must">must</a></li>
        <li><a href="#name">name</a></li>
        <li><a href="#notrust">noTrust</a></li>
        <li><a href="#params">params</a></li>
        <li><a href="#prevars">prevars</a></li>
        <li><a href="#postvars">postvars</a></li>
        <li><a href="#ref">ref</a></li>
      </ul>
    </li>
    <li><a href="#type-tasks">Type Tasks</a>
      <ul>
        <li><a href="#type">type</a></li>
      </ul>
    </li>
    <li><a href="#collection-tasks">Collection Tasks</a>
      <ul>
        <li><a href="#concurrent">concurrent</a></li>
        <li><a href="#group">group</a></li>
        <li><a href="#onfail">onFail</a></li>
        <li><a href="#try">try</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://nehemming.github.io/cirocket/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://nehemming.github.io/cirocket/docs/reference/">Reference</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://nehemming.github.io/cirocket/docs/reference/missions/">Missions</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://nehemming.github.io/cirocket/docs/reference/missions/task/">Task</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Task</h1>
	
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<h3 id="task-varieties">Task varieties</h3>
<p>Tasks are run by stages.   There are four varieties of task.</p>
<ul>
<li>Type tasks</li>
<li>Collection tasks
<ul>
<li>Group</li>
<li>Try</li>
<li>Concurrent</li>
</ul>
</li>
</ul>
<p>The Type tasks use a <code>type</code> property to identify the specific type of task being executed. The collection tasks all contain one or more task definitions.   Tope level stage tasks inherit parameters and  environment variables from the stage.  Sub tasks of a collection task inherit the parameters and environment variables the collection.   In this way parameters and environment definitions are hierarchical where child nodes in the tree can replace values provided by their parents.</p>
<p>All tasks, regardless of variety or type share a set of common properties.   Additional properties can be defined for each variety and type task implementations can add their own additional configuration properties.</p>
<h3 id="variable-types">Variable types</h3>
<p>There are three different types of variable storage in <code>ciirocket</code>:</p>
<ul>
<li>Environment variables.  Inherited from the shell process Environment variables and passed into child processes.  Environment variables are evaluated at prepare time.  (The <code>run</code> task type reevaluates variables immediately prior to executing ht sub process.)   The variables are readonly once defined.  The <code>env</code> definitions are template expanded, but only have access to parent params.</li>
<li>Parameters are read only values either passed into the program as command line arguments or defined in configuration.   Parameters are evaluated during the preparation phase.   Values are scoped to the specific item defining them and their child definitions. Iif a child sets a new value for a parameter it does not effect their parent or sibling&rsquo;s values.</li>
<li>Variables are dynamic values evaluated before, during or after a task&rsquo;s execution phase.  Variables can be used to share output from a task with its parent&rsquo;s and sibling tasks.  Th <code>prevars</code> are evaluated after the prepare phase but prior to executing a task.  The values are local to the task.  The <code>postvars</code> are evaluated after the task has executed and are shared with the parent and sibling tasks.</li>
</ul>
<blockquote>
<p>Variables are not defined during the prepare phase so should not be used as part of a <code>env</code> or <code>param</code> template value.</p>
</blockquote>
<h2 id="common-task-properties">Common Task Properties</h2>
<h3 id="basicenv">basicEnv</h3>
<p>Map of environment variables where the values are not template expanded.</p>
<p>The <code>basicEnv</code> variables are loaded prior to the <code>env</code> variables.  The <code>env</code> value takes prescience`</p>
<p>The variables are scoped to the specific task.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#204a87;font-weight:bold">basicEnv</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">THRUSTERS</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">GO{{Not expanded}}</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">TELEMETRY</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">GO</span><span style="color:#f8f8f8;text-decoration:underline">
</span></code></pre></div><h3 id="description">description</h3>
<p>Free text description of the task.</p>
<p>This property, along with comments can be used to document the task.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="env">env</h3>
<p>Map of environment variables where the values are template expanded.</p>
<p>The <code>basicEnv</code> variables are loaded prior to the <code>env</code> variables.  The <code>env</code> value takes prescience`</p>
<p>All Environment variables are loaded prior to params.</p>
<p>The task inherits the stage&rsquo;s environment variables.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="exports">exports</h3>
<p>The <code>exports</code> definition is a list of variables that should be shared with as variables with their parent and sibling tasks.   All <code>postvars</code> are exported automatically, but the <code>prevars</code> need to be listed in the <code>exports</code> section to be shared with parents/siblings.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="filter">filter</h3>
<p>The <code>filter</code> property is an optional filter on the stage.
If the filter criteria are not met the task will be skipped.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="if">if</h3>
<p>The <code>if</code> condition is evaluated immediately prior to starting execution of the task&rsquo;s operations.   If the supplied expression does not evaluate to a boolean <code>true</code> expression the task will be skipped.</p>
<p>When no <code>if</code> property is supplied the task will default the <code>if</code> condition to true.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="must">must</h3>
<p>List of parameters that must be passed into the task from the stage or task parent.  If any of the parameters are missing the task will fail preparation and no stage, task or <code>onFail</code> will be run.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="name">name</h3>
<p>Name of the task.  If supplied the name must be unique across all tasks sharing the same parent task or stage.<br>
Tasks that are not named are refereed to by their ordinal position in the list of tasks.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="notrust">noTrust</h3>
<p>The <code>noTrust</code> property indicates the task should not inherit environment variables or parameters from its parent.<br>
This can be used with a <code>run</code> task where you do not want the child process to receive API tokens etc. that are stored in the parent environment.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="params">params</h3>
<p>The <code>params</code> property is a map of param definitions.  Params are readonly values that are template expanded during the preparation phase of a mission.</p>
<p>When params are expanded they have access to:</p>
<ul>
<li>environment variables passed from the stage or task parent and not overwritten by <code>basicEnv</code> or <code>env</code> entries</li>
<li>environment variables defined in <code>basicEnv</code> or <code>env</code> entries.</li>
<li>params passed from the task&rsquo;s parent stage or task.</li>
</ul>
<p>See <a href="/cirocket/docs/reference/missions/param/">Param definition</a> for more info.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="prevars">prevars</h3>
<p>The <code>prevars</code> property is map of variable key names and temp;ate expanded values that are evaluated after the prepare phase has completed but before the defining task has started execution.   The variables are local to the defining task and any child tasks that it may have.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="postvars">postvars</h3>
<p>The <code>postvars</code> property is map of variable key names and temp;ate expanded values that are evaluated after the task has successfully completed.   The variables are exported and shared with their parent and sibling tasks.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="ref">ref</h3>
<p>The <code>ref</code> property allows a task to reference another task&rsquo;s definition.  If a <code>ref</code> property is provided it mast identity another named task. The target and referenced task must share the same immediate parent.  If the task referenced does not exist the mission wll fail at the prepare phase.</p>
<p>When a target task references another task the properties of the referenced task are copied and merged into the target task&rsquo;s properties.  Any properties defined in the target task take precedence over the referenced task.  Tasks references are transitive so a referenced task may reference other tasks.   The mission fails if a circular reference is detected however.</p>
<p>The <code>ref</code> property is useful to avoid needing to repeat definitions for the onFail task etc.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h2 id="type-tasks">Type Tasks</h2>
<h3 id="type">type</h3>
<p>The <code>type</code> property identifies a task as the Type variety.  The <code>type</code> value is the identifying name of the task type running this task.</p>
<p>The type identifier must be registered with <code>cirocket</code>.  Unknown task types will cause the mission to fail.</p>
<p>Task types may define their own additional properties that can be included in the task configuration.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>Type determinant</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h2 id="collection-tasks">Collection Tasks</h2>
<h3 id="concurrent">concurrent</h3>
<p>A <code>concurrent</code> property identifies the task as being of the Concurrent variety,  A concurrent task is itself just a list of tasks to execute concurrent.   Each of the tasks will run concurrently, if a task fails <code>cirocket</code> will attempt to cancel the other running tasks. A <code>concurrent</code> task completes when all the child tasks have completed.</p>
<p>All the tasks will inherit any environment or parameter settings defined in the concurrent definition.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>Type determinant</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="group">group</h3>
<p>A <code>group</code> property identifies the task as being of the Group variety,  A group task is itself just a list of tasks to execute sequentially.</p>
<p>The task group is similar to the stage <code>tasks</code> property in that tasks will be sequentially executed in the order they are defined.  All the tasks will inherit any environment or parameter settings defined in the group definition.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>Type determinant</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="onfail">onFail</h3>
<p>The <code>onFail</code> property defines a task to run if during a group task&rsquo;s execution phase an error occurs.   The task can be used to perhaps clean up resources etc.   The onFail task is not run if the stage fails during the preparation phase.</p>
<blockquote>
<p><code>onFail</code> only applies to group and concurrent tasks, other task types will ignore this property.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>No</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="try">try</h3>
<p>A <code>try</code> property identifies the task as being of the Try variety,  A try task is itself just a list of tasks to execute sequentially.</p>
<p>The <code>try</code> list is similar to the <code>group</code> list where tasks are sequentially executed in the order they are defined.  the tyy list differs that should any sub task fail the remaining tasks in the list will not be run, but no failure error will be raised and tasks proceeding the try block will continue to be run.</p>
<p>All the tasks will inherit any environment or parameter settings defined in the group definition.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mandatory</td>
<td>Type determinant</td>
</tr>
<tr>
<td>Template Expanded</td>
<td>No</td>
</tr>
</tbody>
</table>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/nehemming/cirocket/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/nehemming/cirocket/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">

</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 The cirocket Authors All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>





<script src='/cirocket/js/tabpane-persist.js'></script>




 












<script src="/cirocket/js/main.min.0faab652a869b1ff1a46ee67c966467b9cb85ca85fd6364c5438878fde5bc155.js" integrity="sha256-D6q2Uqhpsf8aRu5nyWZGe5y4XKhf1jZMVDiHj95bwVU=" crossorigin="anonymous"></script>




  </body>
</html>